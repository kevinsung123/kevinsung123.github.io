---
title: "(1) Network Switch"
date : 2025-01-23 09:00:00 +0900
categories: [Network,Switch]
tags : [gcp]
---

### **OSI모델**

![alt text](../../assets/img/2025-01-23-network-1-switch/image.png)

**오픈 시스템 상호 연결(Open Systems Interconnections)** 모델은 네트워크 통신기능을 7개의 계층으로 나누는 개념적 프레임워크.
- 컴퓨터 네트워킹을 위한 범용언어를 제공하기때문에 다양한 기술잉 표준 프로토콜 또는 통신 규칙을 사용하여 통신
- S/W, H/W구성요소 전반에 걸처 모든 유형의 네트워크 통신을 `캡슐화`
  


### **OSI 7계층**
- `OSI모델`은 국제 표준화 기구(ISO)에서 1970년대 후반에 개발
- 1984년에 ISO 7498이라는 첫번쨰 형태로 발표
- 현재버전은 `ISO/IEC 7498-1:1194`

#### **물리 계층**
- 물리적 통신 매체와 해당 매체를 통해 데이터를 전송하는 기술
- 광섬유 케이블,구리케이블 등 물리적 채널을 통해 전송 (Bluetooth,NFC,데이터 전송 속도)

#### **데이터레이크 계층**
- 물리계층이 이미 존재하는 네트워크를 통해 두 시스템 연결하는데 사용되는 기술을 의미 
- 데이터 패킷에 캡슐화된 디지털 신호인 `데이터 프레임`을 관리
- 주요기능은 **보통 데이터의 흐름 제어 및 오류제어**
- MAC계층과 논리 리읔 계층(LLC) 2가지로 나누어짐

#### **네트워크 계층**
- 분산된 네트워크 하나 또는 연결된 여러 네트워크의 노드 또는 머신을 통한 `라우팅,전달 및 주소 지정`개념과 관련
- `흐름 제어도`도 관리 
- 인터넷에서는 `ipv4, ipv6` 주 네트워크 게층 프로토콜에 사용
  

#### **전송 계층**
- `데이터 패킷이 손실이나 오류 없이 올바른 순서로 도착하는 것이나 필요한 경우 데이터 패킷을 복구`
- 프로톨콜은
  - 거의 손실 없는 연결 기반 프로톨인 **전송제어 프로토콜(TCP)**
  - 손실이 많은 무연결 프로톨인 **사용자 데이터그램 프로토콜(UDP)**
  - TCP는 일반적으로 모든 데이터가 손상되지 않아야하는 경우(파일 공유)
  - UDP는 모든 패킷을 보존하는것이 덜 중요한 경우(비디오 스트리밍)

#### **세션 계층**
- 한 세션에서 서로 다른 두 애플리케이션 간의 네트워크 조정을 담당
- 일대일 애플리케이션 연결 및 동기화 충동의 시작과 끝을 관리
- `네트워크 파일 시스템(NFS)와 서버 메시지 블록(SMB)`주로 사용 프로토콜


#### **프레젠테이션 계층**
- 주로 애플리케이션에서 전송하고 소비하는 데이터 자체와 연관
- 하이퍼텍스트 마크업 언어(HTML), javscript 객체 표기법(JSON), CSV은 모두 해당 계층의 데이터 구조 설명하는 모델링 언어

#### **애플리케이션 계층**
- 특정 유형의 애플리케이션 자체와 표준화된 통신 방법과 관련
- 브라우저는 HTTPS를 통하여 통신, HTTP및 이메일 클라이언트는 POP3(Post Officie Protocol Version3) 및 SMPT(Simple Mail Transfer Protocol) 사용
- 
### **OSI 통신 프로세스**
1. 발신자의 애플리케이션 계층은 데이터 통신을 다음 하위 계층으로 전달합니다.
2. 각 계층은 데이터를 전달하기 전에 데이터에 고유한 헤더와 주소 지정을 추가합니다. 
3. 데이터 통신은 결국 물리적 매체를 통해 전송될 때까지 계층 아래로 이동합니다.
4. 매체의 다른 쪽 끝에서는 각 계층이 해당 수준의 관련 헤더에 따라 데이터를 처리합니다. 
5. 수신자 측의 데이터는 계층 위로 이동하고 다른 쪽 끝에 있는 애플리케이션이 데이터를 수신할 때까지 점진적으로 압축 해제됩니다.

### **TCP/IP**
현재 OSI모델의 대안으로 TCP/IP모델을 사용
- 물리 계층
- 데이터 링크 계층
- 네트워크 계층
- 전송 계층
- 애플리케이션 계층
- 

### **Network Switch**

#### **L2 스위치**

- 역할 : 데이터 링크 계층에서 동작하며, MAC주소 기반으로 패킷을 처리하고 전달
- 기능
  1. MAC주소 테이블 관리 : 네트워크 각 장치의 MAC주소를 학습하고 저장
  2. 프레임 전달
    - unicast : 대상 MAC주소를 기반으로 프레임 전달
    - broadcast : 네트워크 세그먼트 내 모든 포트로 전달
  3. VLAN 지원 : 논리적으로 네트워크를 분리
- 특징
  - 단순히 같은 네트워크 세그먼트(서브넷)내에서 통신을 처리
  - IP주소를 인식하지 못함
  - 빠르고 비용이 저렴
- 사용
  - 단순한 LAN환경
  - 소규모 네트워크에서 데이터 전송
  
#### **L3스위치**
- 역할 : 네트워크 계층에서 동작하며 **IP주소 기반으로 라우팅**을 수행
- 기능
  - IP라우팅 : 서로 다른 네트워크 세그먼트(서브넷) 간의 데이터 전송
  - 인터VLAN 라우팅 : VLAN간의 통신 지원
  - 정적 및 동적 라우팅 프로토콜 지원 : OSPF,BGP,EIGRP등
- 특징
  - L2스위치 MAC긱반 처리 + L3 IP라우팅을 함꼐 지원
  - 고속 데이터 존송 스위치와 라우터 기능을 결합
- 사용사례
  - 중대형 네트워크 환경
  - VLAN간 트래픽 관리
  - 서브넷 간의 빠른 데이터 전송
  - **VLAN** : 네트워크에서 여러개의 구별되는 브로드캐스트 도메인을 만들귀 위해 단일 2계층 네트워크를 분리. 이렇게 분리되면 패킷들은 하나 이상의 라우터 사이에서만 이동. 이러한 도메인을 가상랜 

#### **L4스위치**
- 역할 : 전송계층에서 동작. 포트번호와 세션 정보 기반으로 트래픽을 처리
- 기능
  - LB
    - TCP/UDP포트 기반으로 서버 부하를 분산
    - 웹서버, db트래픽 관리
  - QOS(서비스 품질 관리) : 트래픽을 우선순위에 따라 처리
  - 세션 기반 필터링 : TCP/UDP 세션 정보에 따라 패킷 처리
- 특징
  - L3기능을 포함하면서 트래픽의 종류를 구별
  - 응용 프로그램 트래픽을 보다 세부적으로 관리 가능
- 사용 사례
  - 데이터 센터에서 LB역할
  - 대규모 애플리케이션 서비스 ㅔㅈ공
  - VOIP 및 동영상 스트리밍 트래픽 처리


### **비교요약**

| **스위치 계층** | **기준**                     | **주요 역할**                  | **사용 사례**                           |
| --------------- | ---------------------------- | ------------------------------ | --------------------------------------- |
| **L2 스위치**   | MAC 주소 기반                | 같은 네트워크 세그먼트 내 통신 | 소규모 네트워크, LAN 구성               |
| **L3 스위치**   | IP 주소 기반, 라우팅 가능    | 서브넷 간 통신, VLAN 라우팅    | 중대형 네트워크, VLAN 환경              |
| **L4 스위치**   | TCP/UDP 포트, 세션 정보 기반 | 트래픽 부하 분산, QoS 관리     | 데이터 센터, 로드 밸런싱, 대규모 서비스 |
|                 |



### 참고
- [medium](https://medium.com/@mervegamzenar/data-modeling-for-data-engineering-4ba302b4654f)
- [aws - osi model](https://aws.amazon.com/ko/what-is/osi-model/)